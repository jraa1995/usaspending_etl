# USASpending Production ETL Configuration

# Data Download Configuration
data_download:
  enabled: true
  start_date: "2024-09-01"  # Will be updated by scheduler
  end_date: "2024-09-30"    # Will be updated by scheduler
  output_dir: "raw_data"
  groups: ["contracts"]
  agencies: []  # Empty = all agencies
  date_type: "action_date"
  file_format: "csv"

# Data Processing Configuration  
data_processing:
  input_dir: "raw_data"
  output_dir: "processed_data"
  etl_config: "etl_config.yaml"
  
  # Filters to apply during processing
  filters:
    # fiscal_year_range: [2024, 2025]  # Uncomment to filter by fiscal year
    # min_dollars_obligated: 1000      # Uncomment to filter by minimum amount
    # instrument_types: ["DEFINITIVE CONTRACT", "DELIVERY ORDER"]  # Uncomment to filter by type
    # agencies: ["Department of Defense"]  # Uncomment to filter by agency

# Analysis Configuration
analysis:
  enabled: true
  generate_summary: true
  include_charts: false  # Set to true if matplotlib/seaborn available

# Cleanup Configuration
cleanup:
  enabled: true
  remove_raw_downloads: false  # Set to true to save disk space
  archive_outputs: true
  archive_dir: "archive"

# Email Notification Configuration
email:
  enabled: false  # Set to true to enable email reports
  smtp_server: "smtp.gmail.com"
  smtp_port: 587
  use_tls: true
  username: "your-email@gmail.com"
  password: "your-app-password"  # Use app password for Gmail
  from_email: "your-email@gmail.com"
  to_emails:
    - "recipient1@company.com"
    - "recipient2@company.com"
  attach_reports: true

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/etl_pipeline.log"

# Results Storage
results_dir: "results"

# Google Drive Integration
google_drive:
  enabled: false  # Set to true to enable Google Drive uploads
  service_account_file: "path/to/service-account-key.json"  # Path to service account JSON
  folder_id: ""  # Optional: Google Drive folder ID to upload to
  upload_formats: ["parquet", "csv"]  # Which formats to upload
  create_google_sheets: true  # Also create Google Sheets from CSV data

# Environment-specific settings
environment:
  name: "production"  # production, staging, development
  max_memory_gb: 8
  max_runtime_hours: 4
  retry_attempts: 3